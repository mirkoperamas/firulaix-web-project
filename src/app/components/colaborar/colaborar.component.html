<div style="height: 1rem;"></div>
<div class="contenido-main-white">
    <div class="main-text">
        <p>{{"Contribución" | translate}}</p>
        <h1>{{"Colabora con nuestro proyecto" | translate}}</h1>
    </div>

    <div class="content-forms">
      <div class="form-column">
            <div class="form-text">
                <p>{{"Puedes colaborar con nuestro proyecto haciendo un depósito a nuestras siguientes cuentas del banco:" | translate}}</p>
                <div class="form-text-information" style="margin: 4rem auto 4rem auto;">
                    <div>
                      <p><span> BCP NRO. CTA SOLES: </span>193-05291854-0-06</p><hr>
                      <p><span> BCP NRO. CCI SOLES: </span>00219310529185400613</p><hr>
                    </div>
                    <div>
                      <p><span> BCP NRO. CTA {{"DOLARES" | translate}}: </span>193-05291860-1-12</p><hr>
                      <p><span> BCP NRO. CCI {{"DOLARES" | translate}}: </span>00219310529186011211</p><hr>
                    </div>
                    <div>
                      <p><span>SWIFT: </span>BCPLPEPL</p><hr>
                    </div>
                </div>
            </div>

            <div class="form-calc-graphic">
                <mat-card id="calculator" class="card-design">
                  <mat-card-header>
                    <mat-card-title>
                      <p>{{"Calculadora firulaix" | translate}}</p>
                    </mat-card-title>
                    <mat-card-subtitle>
                      <p>{{"Equivalencia en firu's" | translate}}</p>
                    </mat-card-subtitle>
                  </mat-card-header>
                  <hr />
                  <mat-card-content>
                    <form
                    [formGroup]="convertorForm"
                    (submit)="submit()"
                  >
                      <div class="calc-graphic-camp">
                        <p>{{"De:" | translate}}</p>
                        <div class="camp-from">
                            <div class="yellow-border-button select-style">
                              <mat-select formControlName="tipoMoneda">
                                <mat-option value="soles">S/ Soles</mat-option>
                                <mat-option value="dolares">$ {{"Dolares" | translate}}</mat-option>
                              </mat-select>
                            </div>

                              <mat-form-field>
                                <input
                                  type="number"
                                  onkeydown="return event.keyCode !== 69"
                                  matInput
                                  formControlName="valorIngresado"
                                  autocomplete="off"
                                />
                              </mat-form-field>
    
                          </div>
                      </div>
    
                      <div class="calc-graphic-camp">
                          <p>{{"Para:" | translate}}</p>
                          <mat-form-field>
                            <input
                              type="number"
                              matInput
                              formControlName="resultado"
                            />
                          </mat-form-field>
                      </div>
                    </form>
                  </mat-card-content>
                </mat-card>
            </div>

            <div class="form-text" style="margin-top: 3rem;">
              <p>{{"Horarios de atención:" | translate}}</p>
              <div class="form-text-information">
                  <p>{{"Lunes a Viernes" | translate}} - 9:00hrs a 18:00hrs</p>
                  <p>{{"Sábados" | translate}} - 9:00hrs a 13:00hrs</p>
                  <p style="margin-top: 1.5rem">* {{"Cualquier colaboración fuera de los horarios establecidos, serán atendidos al siguiente día. Si es fin de semana o feriado, se atenderá el día hábil más próximo." | translate}}</p>
              </div>
          </div>
      </div>


      <div class="form-column">

        <div class="form-text second-text">
          <p>{{"Ingresa tus datos para registrar tu colaboración y hacerte llegar tu obsequio:" | translate}}</p>
        </div>

        <div style="text-align: center; margin: 1rem 0; color: #ffa500; font-weight: bold;">
          <span (click)="openDialogWithRef(tutorial)" style="cursor: pointer">{{"¿Aun no tienes una billetera virtual?" | translate}}</span>
        </div>

        <ng-template #tutorial>
          <p matDialogContent class="alert-text">
            {{"Si aun no tiene una billetera virtual puede ver nuestro tutorial:" | translate}}
          </p>
          <iframe src="https://www.youtube.com/embed/H5x7NVYWjFY" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" style="width: 100%; height: 350px;" allowfullscreen></iframe>

          <mat-dialog-actions align="end">
            <button mat-flat-button color="warn" matDialogClose>{{"Cerrar" | translate}}</button>
          </mat-dialog-actions>
      </ng-template>



        <mat-card class="card-design" id="formulary">
          <mat-card-header>
            <mat-card-title>
              <p>{{"Formulario de colaboración" | translate}}</p>
            </mat-card-title>
          </mat-card-header>
          <hr />

          <mat-card-content>
            <form (submit)="uploadRegister(op, address, email)" [formGroup]="sendFormulary">
              <div class="form-register-camp">
                <mat-form-field>
                  <input type="number" onkeydown="return event.keyCode !== 69" autocomplete="off" matInput placeholder="{{'Número de Operación' | translate}}" formControlName="opFormControl" #op/>
                  
                  <mat-error *ngIf="sendFormulary.get('opFormControl').invalid && sendFormulary.get('opFormControl').value != 0">
                    {{"Debe ingresar un número de operación válido" | translate}}
                  </mat-error>
          
                  <mat-error *ngIf="sendFormulary.get('opFormControl').value == 0">
                    {{"Este campo es requerido" | translate}}
                  </mat-error>
                </mat-form-field>

                <div class="button-help" (click)="openDialogWithRef(infoOp)">
                  <i class="fas fa-info"></i>
                </div>

                <ng-template #infoOp>
                  <p matDialogContent class="alert-text">
                    {{"Ingrese el número de operación que figure en su voucher" | translate}}
                  </p>
        
                  <mat-dialog-actions align="end">
                    <button mat-flat-button color="warn" matDialogClose>{{"Cerrar" | translate}}</button>
                  </mat-dialog-actions>
              </ng-template>
              </div>

              <div class="form-register-camp">
                <mat-form-field>
                  <input autocomplete="off" matInput placeholder="Address" [disabled]="true" formControlName="addressFormControl" #address/>
                  
                  <mat-error *ngIf="sendFormulary.get('addressFormControl').invalid && sendFormulary.get('addressFormControl').value != 0">
                    {{"Debe ingresar un address válido" | translate}}
                  </mat-error>
            
                  <mat-error *ngIf="sendFormulary.get('addressFormControl').value == 0">
                    {{"Este campo es requerido" | translate}}
                  </mat-error>
                 
                </mat-form-field>

                <button class="button-login yellow-border-button" id="metamask_login" type="button">
                  {{"Conectar" | translate}}
                </button>

                <div class="button-help" (click)="openDialogWithRef(infoAddress)">
                  <i class="fas fa-info"></i>
                </div>

                <ng-template #infoAddress>
                  <p matDialogContent class="alert-text">
                    {{"Pegue el address donde quieras que te lleguen tus FIRU's" | translate}}
                  </p>
        
                  <mat-dialog-actions align="end">
                    <button mat-flat-button color="warn" matDialogClose>{{"Cerrar" | translate}}</button>
                  </mat-dialog-actions>
                </ng-template>
              </div>
 
              <div style="display: flex; align-items: center; justify-content: center;">
                <p id="token" class="text-help" style="margin: 0">{{"Conéctate para ver tu address aquí" | translate}}</p>
                <button type="button" (click)="pasteAddress()" class="paste-address yellow-border-button" matTooltip="¿Deseas recibir tus FIRU's en esta dirección?"><i class="fas fa-paste"></i></button>
              </div>


              <div class="form-register-camp">
                <mat-form-field>
                  <input autocomplete="off" matInput placeholder="Email" formControlName="emailFormControl" #email/>
                  <mat-error *ngIf="sendFormulary.get('emailFormControl').invalid && sendFormulary.get('emailFormControl').value != 0">
                    {{"Debe ingresar un email válido" | translate}}
                  </mat-error>

                  <mat-error *ngIf="sendFormulary.get('emailFormControl').value == 0">
                    {{"Este campo es requerido" | translate}}
                  </mat-error>
                </mat-form-field>

                <div class="button-help" (click)="openDialogWithRef(infoEmail)">
                  <i class="fas fa-info"></i>
                </div>

                <ng-template #infoEmail>
                  <p matDialogContent class="alert-text">
                    {{"Digite un email válido para enviarle la información de la transacción de sus FIRU's" | translate}}
                  </p>
        
                  <mat-dialog-actions align="end">
                    <button mat-flat-button color="warn" matDialogClose>{{"Cerrar" | translate}}</button>
                  </mat-dialog-actions>
                </ng-template>
              </div>

              <div style="margin: 1.5rem 0;">
                <p class="text-help">{{"Click dentro del recuadro para cargar una foto de tu voucher de pago" | translate}}</p>
              </div>

              <input type="file" class="d-none" (change)="onPhotoSelected($event)" accept="image/*" formControlName="imageFormControl" #photoInput/>

                
              <div class="image-content">
                <img id="imagex" [src]="photoSelected || 'assets/no-image-2.png'" class="img-fluid" (click)="photoInput.click()">
              </div>

              <div style="display: flex; align-items: center; justify-content: center; margin: 2rem 0;">
                <ngx-recaptcha2 #captchaElem
                  [siteKey]="siteKey"
                  formControlName="recaptchaFormControl">
                </ngx-recaptcha2>
              </div>
              

              
              <div class="button-formulary">
                <button mat-flat-button color="accent" [disabled]="sendFormulary.invalid" (click)="openDialogWithRef(registerSend)"> 
                  {{"Enviar" | translate}}
                </button>
              </div>

              <ng-template #registerSend>
                <div class="popup-width-image">
                  <img src="../../../assets/images/popup-firu-2.png">
                </div>
                <p matDialogContent class="alert-text">
                  {{"Gracias por su colaboración, recibira un email de confirmación." | translate}} <br>{{"Revise su bandeja de entrada de lo contrario su bandeja 'spam'." | translate}}
                </p>
      
                <mat-dialog-actions align="end">
                  <button mat-flat-button color="warn" matDialogClose>{{"Cerrar" | translate}}</button>
                </mat-dialog-actions>
              </ng-template>
            </form>       

          </mat-card-content>
        </mat-card>

        </div>
    </div>  

</div>




<section id="section-qr">
  <div class="content-qr">
      <div class="qr-text">
          <div>
              <h2>{{"Puedes colaborar con nuestro proyecto depositando en:" | translate}}</h2>
              <p>
                  <span>{{"Dirección de recepción:" | translate}}</span><br>
                  0xCe0e30CbCbEBbC05D3fE7f7a4ADEbb21041bB1d2
              </p>
              <p>
                  <span>{{"Token aceptado:" | translate}}</span><br>
                  cualquier BEP20 (BSC)
              </p>
              <p style="margin-bottom: 0;">
                  <span>{{"Token preferido:" | translate}}</span><br>
                  FIRU
              </p>
          </div>      
      </div>

      <div class="qr-image">
          <img src="../../../assets/images/adquirir-page/firu-qr.jpg" alt="">
      </div>
  </div> 
</section>
