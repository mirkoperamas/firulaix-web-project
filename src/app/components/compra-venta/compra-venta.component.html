<div class="contenido-main-white">
  <div class="main-text">
    <p>Subtitle</p>
    <h1>Titleee</h1>
  </div>

  <div>
    <mat-tab-group mat-align-tabs="center">
      <mat-tab label="Compra">
        <div class="content-forms">
          <div class="form-column">
            <div class="form-calc-graphic">
              <mat-card id="calculator" class="card-design">
                <mat-card-header>
                  <mat-card-title>
                    <p>Calculadora Firulaix</p>
                  </mat-card-title>
                  <mat-card-subtitle>
                    <p>Compra</p>
                  </mat-card-subtitle>
                </mat-card-header>
                <hr />
                <mat-card-content>
                  <form [formGroup]="convertorForm" (submit)="submit()">
                    <div class="calc-graphic-camp">
                      <div class="camp-from">
                        <div class="yellow-border-button select-style">
                          <mat-select formControlName="tipoMoneda">
                            <mat-option value="soles">S/ Soles</mat-option>
                            <mat-option value="dolares"
                              >$ {{ "Dolares" | translate }}</mat-option
                            >
                          </mat-select>
                        </div>

                        <mat-form-field>
                          <input
                            type="number"
                            onkeydown="return event.keyCode !== 69"
                            matInput
                            formControlName="valorIngresado"
                            autocomplete="off"
                          />
                        </mat-form-field>
                      </div>
                    </div>

                    <div class="calc-graphic-camp">
                      <mat-form-field>
                        <input
                          type="number"
                          matInput
                          formControlName="resultado"
                        />
                      </mat-form-field>
                    </div>
                  </form>
                </mat-card-content>
              </mat-card>
            </div>

            <div class="form-text" style="margin-top: 3rem">
              <p>{{ "Horarios de atención:" | translate }}</p>
              <div class="form-text-information">
                <p>{{ "Lunes a Viernes" | translate }} - 9:00hrs a 18:00hrs</p>
                <p>{{ "Sábados" | translate }} - 9:00hrs a 13:00hrs</p>
                <p style="margin-top: 1.5rem">
                  *
                  {{
                    "Cualquier colaboración fuera de los horarios establecidos, serán atendidos al siguiente día. Si es fin de semana o feriado, se atenderá el día hábil más próximo."
                      | translate
                  }}
                </p>
              </div>
            </div>
          </div>

          <div class="form-column">
            <mat-card class="card-design" id="formulary">
              <mat-card-header>
                <mat-card-title>
                  <p>Formulario de Compra</p>
                </mat-card-title>
              </mat-card-header>
              <hr />

              <mat-card-content>
                <form
                  (submit)="uploadBuy(numOp, address, email)"
                  [formGroup]="sendBuyFormulary"
                >
                  <div class="form-register-camp">
                    <mat-form-field>
                      <input
                        type="number"
                        onkeydown="return event.keyCode !== 69"
                        autocomplete="off"
                        matInput
                        placeholder="{{ 'Número de Operación' | translate }}"
                        formControlName="opFormControl"
                        #numOp
                      />

                      <mat-error
                        *ngIf="
                          sendBuyFormulary.get('opFormControl').invalid &&
                          sendBuyFormulary.get('opFormControl').value != 0
                        "
                      >
                        {{
                          "Debe ingresar un número de operación válido"
                            | translate
                        }}
                      </mat-error>

                      <mat-error
                        *ngIf="sendBuyFormulary.get('opFormControl').value == 0"
                      >
                        {{ "Este campo es requerido" | translate }}
                      </mat-error>
                    </mat-form-field>

                    <div
                      class="button-help"
                      (click)="openDialogWithRef(infoOp)"
                    >
                      <i class="fas fa-info"></i>
                    </div>

                    <ng-template #infoOp>
                      <p matDialogContent class="alert-text">
                        {{
                          "Ingrese el número de operación que figure en su voucher"
                            | translate
                        }}
                      </p>

                      <mat-dialog-actions align="end">
                        <button mat-flat-button color="warn" matDialogClose>
                          {{ "Cerrar" | translate }}
                        </button>
                      </mat-dialog-actions>
                    </ng-template>
                  </div>

                  <div class="form-register-camp">
                    <mat-form-field>
                      <input
                        autocomplete="off"
                        matInput
                        placeholder="Address"
                        [disabled]="true"
                        formControlName="addressFormControl"
                        #address
                      />

                      <mat-error
                        *ngIf="
                          sendBuyFormulary.get('addressFormControl').invalid &&
                          sendBuyFormulary.get('addressFormControl').value != 0
                        "
                      >
                        {{ "Debe ingresar un address válido" | translate }}
                      </mat-error>

                      <mat-error
                        *ngIf="
                          sendBuyFormulary.get('addressFormControl').value == 0
                        "
                      >
                        {{ "Este campo es requerido" | translate }}
                      </mat-error>
                    </mat-form-field>

                    <div
                      class="button-help"
                      (click)="openDialogWithRef(infoAddress)"
                    >
                      <i class="fas fa-info"></i>
                    </div>

                    <ng-template #infoAddress>
                      <p matDialogContent class="alert-text">
                        {{
                          "Pegue el address donde quieras que te lleguen tus FIRU's"
                            | translate
                        }}
                      </p>

                      <mat-dialog-actions align="end">
                        <button mat-flat-button color="warn" matDialogClose>
                          {{ "Cerrar" | translate }}
                        </button>
                      </mat-dialog-actions>
                    </ng-template>
                  </div>

                  <div class="form-register-camp">
                    <mat-form-field>
                      <input
                        autocomplete="off"
                        matInput
                        placeholder="Email"
                        formControlName="emailBuyFormControl"
                        #email
                      />
                      <mat-error
                        *ngIf="
                          sendBuyFormulary.get('emailBuyFormControl').invalid &&
                          sendBuyFormulary.get('emailBuyFormControl').value != 0
                        "
                      >
                        {{ "Debe ingresar un email válido" | translate }}
                      </mat-error>

                      <mat-error
                        *ngIf="
                          sendBuyFormulary.get('emailBuyFormControl').value == 0
                        "
                      >
                        {{ "Este campo es requerido" | translate }}
                      </mat-error>
                    </mat-form-field>

                    <div
                      class="button-help"
                      (click)="openDialogWithRef(infoEmail)"
                    >
                      <i class="fas fa-info"></i>
                    </div>

                    <ng-template #infoEmail>
                      <p matDialogContent class="alert-text">
                        {{
                          "Digite un email válido para enviarle la información de la transacción de sus FIRU's"
                            | translate
                        }}
                      </p>

                      <mat-dialog-actions align="end">
                        <button mat-flat-button color="warn" matDialogClose>
                          {{ "Cerrar" | translate }}
                        </button>
                      </mat-dialog-actions>
                    </ng-template>
                  </div>

                  <div style="margin: 1.5rem 0">
                    <p class="text-help">
                      {{
                        "Click dentro del recuadro para cargar una foto de tu voucher de pago"
                          | translate
                      }}
                    </p>
                  </div>

                  <input
                    type="file"
                    class="d-none"
                    (change)="onPhotoBuySelected($event)"
                    accept="image/*"
                    formControlName="imageBuyFormControl"
                    #photoInput
                  />

                  <div class="image-content">
                    <img
                      id="imageX"
                      [src]="photoBuySelected || 'assets/no-image-2.png'"
                      class="img-fluid"
                      (click)="photoInput.click()"
                    />
                  </div>

                  <div
                    style="
                      display: flex;
                      align-items: center;
                      justify-content: center;
                      margin: 2rem 0;
                    "
                  >
                    <ngx-recaptcha2
                      #captchaElem
                      [siteKey]="siteKey"
                      formControlName="recaptchaFormControl"
                    >
                    </ngx-recaptcha2>
                  </div>

                  <div class="button-formulary">
                    <button
                      mat-flat-button
                      color="accent"
                      [disabled]="sendBuyFormulary.invalid"
                      (click)="openDialogWithRef(registerSend)"
                    >
                      {{ "Enviar" | translate }}
                    </button>
                  </div>

                  <ng-template #registerSend>
                    <div class="popup-width-image">
                      <img src="../../../assets/images/popup-firu-2.png" />
                    </div>
                    <p matDialogContent class="alert-text">
                      {{
                        "Gracias por su colaboración, recibira un email de confirmación."
                          | translate
                      }}
                      <br />{{
                        "Revise su bandeja de entrada de lo contrario su bandeja 'spam'."
                          | translate
                      }}
                    </p>

                    <mat-dialog-actions align="end">
                      <button mat-flat-button color="warn" matDialogClose>
                        {{ "Cerrar" | translate }}
                      </button>
                    </mat-dialog-actions>
                  </ng-template>
                </form>
              </mat-card-content>
            </mat-card>
          </div>
        </div>
      </mat-tab>

      <mat-tab label="Venta">
        <div class="content-forms">
          <div class="form-column">
            <div class="form-calc-graphic">
              <mat-card id="calculator" class="card-design">
                <mat-card-header>
                  <mat-card-title>
                    <p>{{ "Calculadora firulaix" | translate }}</p>
                  </mat-card-title>
                  <mat-card-subtitle>
                    <p>Venta</p>
                  </mat-card-subtitle>
                </mat-card-header>
                <hr />
                <mat-card-content>
                  <form [formGroup]="convertorForm" (submit)="submit()">
                    <div class="calc-graphic-camp">
                      <mat-form-field>
                        <input
                          type="number"
                          matInput
                          formControlName="resultado"
                        />
                      </mat-form-field>
                    </div>

                    <div class="calc-graphic-camp">
                      <div class="camp-from">
                        <div class="yellow-border-button select-style">
                          <mat-select formControlName="tipoMoneda">
                            <mat-option value="soles">S/ Soles</mat-option>
                            <mat-option value="dolares"
                              >$ {{ "Dolares" | translate }}</mat-option
                            >
                          </mat-select>
                        </div>

                        <mat-form-field>
                          <input
                            type="number"
                            onkeydown="return event.keyCode !== 69"
                            matInput
                            formControlName="valorIngresado"
                            autocomplete="off"
                          />
                        </mat-form-field>
                      </div>
                    </div>
                  </form>
                </mat-card-content>
              </mat-card>
            </div>

            <div class="form-text" style="margin-top: 3rem">
              <p>{{ "Horarios de atención:" | translate }}</p>
              <div class="form-text-information">
                <p>{{ "Lunes a Viernes" | translate }} - 9:00hrs a 18:00hrs</p>
                <p>{{ "Sábados" | translate }} - 9:00hrs a 13:00hrs</p>
                <p style="margin-top: 1.5rem">
                  *
                  {{
                    "Cualquier colaboración fuera de los horarios establecidos, serán atendidos al siguiente día. Si es fin de semana o feriado, se atenderá el día hábil más próximo."
                      | translate
                  }}
                </p>
              </div>
            </div>
          </div>

          <div class="form-column">
            <mat-card class="card-design" id="formulary">
              <mat-card-header>
                <mat-card-title>
                  <p>Formulario de Venta</p>
                </mat-card-title>
              </mat-card-header>
              <hr />

              <mat-card-content>
                <form
                  [formGroup]="sendSellFormulary"
                >
                  <div class="form-register-camp">
                    <mat-form-field>
                      <input
                        type="number"
                        onkeydown="return event.keyCode !== 69"
                        autocomplete="off"
                        matInput
                        placeholder="Número de transacción"
                        formControlName="trFormControl"
                        #numTr
                      />

                      <mat-error
                        *ngIf="
                          sendSellFormulary.get('trFormControl').invalid &&
                          sendSellFormulary.get('trFormControl').value != 0
                        "
                      >
                        Debe ingresar un número de transacción válido
                      </mat-error>

                      <mat-error
                        *ngIf="
                          sendSellFormulary.get('trFormControl').value == 0
                        "
                      >
                        Este campo es requerido
                      </mat-error>
                    </mat-form-field>

                    <div
                      class="button-help"
                      (click)="openDialogWithRef(infoTransaction)"
                    >
                      <i class="fas fa-info"></i>
                    </div>

                    <ng-template #infoTransaction>
                      <p matDialogContent class="alert-text">
                        {{
                          "Ingrese el número de operación que figure en su voucher"
                            | translate
                        }}
                      </p>

                      <mat-dialog-actions align="end">
                        <button mat-flat-button color="warn" matDialogClose>
                          {{ "Cerrar" | translate }}
                        </button>
                      </mat-dialog-actions>
                    </ng-template>
                  </div>

                  <div class="form-register-camp">
                    <mat-form-field>
                      <input
                        autocomplete="off"
                        matInput
                        placeholder="Cuenta de BCP"
                        [disabled]="true"
                        formControlName="bcpAccountFormControl"
                        #bcpAccount
                      />

                      <mat-error
                        *ngIf="
                          sendSellFormulary.get('bcpAccountFormControl')
                            .invalid &&
                          sendSellFormulary.get('bcpAccountFormControl')
                            .value != 0
                        "
                      >
                        {{ "Debe ingresar un address válido" | translate }}
                      </mat-error>

                      <mat-error
                        *ngIf="
                          sendSellFormulary.get('bcpAccountFormControl')
                            .value == 0
                        "
                      >
                        {{ "Este campo es requerido" | translate }}
                      </mat-error>
                    </mat-form-field>

                    <div
                      class="button-help"
                      (click)="openDialogWithRef(infoAccount)"
                    >
                      <i class="fas fa-info"></i>
                    </div>

                    <ng-template #infoAccount>
                      <p matDialogContent class="alert-text">
                        {{
                          "Pegue el address donde quieras que te lleguen tus FIRU's"
                            | translate
                        }}
                      </p>

                      <mat-dialog-actions align="end">
                        <button mat-flat-button color="warn" matDialogClose>
                          {{ "Cerrar" | translate }}
                        </button>
                      </mat-dialog-actions>
                    </ng-template>
                  </div>

                  <div class="form-register-camp">
                    <mat-form-field>
                      <input
                        autocomplete="off"
                        matInput
                        placeholder="Email"
                        formControlName="emailSellFormControl"
                        #emailSell
                      />
                      <mat-error
                        *ngIf="
                          sendSellFormulary.get('emailSellFormControl')
                            .invalid &&
                          sendSellFormulary.get('emailSellFormControl').value !=
                            0
                        "
                      >
                        {{ "Debe ingresar un email válido" | translate }}
                      </mat-error>

                      <mat-error
                        *ngIf="
                          sendSellFormulary.get('emailSellFormControl').value ==
                          0
                        "
                      >
                        {{ "Este campo es requerido" | translate }}
                      </mat-error>
                    </mat-form-field>

                    <div
                      class="button-help"
                      (click)="openDialogWithRef(infoEmail)"
                    >
                      <i class="fas fa-info"></i>
                    </div>

                    <ng-template #infoEmail>
                      <p matDialogContent class="alert-text">
                        {{
                          "Digite un email válido para enviarle la información de la transacción de sus FIRU's"
                            | translate
                        }}
                      </p>

                      <mat-dialog-actions align="end">
                        <button mat-flat-button color="warn" matDialogClose>
                          {{ "Cerrar" | translate }}
                        </button>
                      </mat-dialog-actions>
                    </ng-template>
                  </div>

                  <div style="margin: 1.5rem 0">
                    <p class="text-help">
                      {{
                        "Click dentro del recuadro para cargar una foto de tu voucher de pago"
                          | translate
                      }}
                    </p>
                  </div>

                  <input
                    type="file"
                    class="d-none"
                    (change)="onPhotoSellSelected($event)"
                    accept="image/*"
                    formControlName="imageSellFormControl"
                    #photoSellInput
                  />

                  <div class="image-content">
                    <img
                      id="imageY"
                      [src]="photoSellSelected || 'assets/no-image-2.png'"
                      class="img-fluid"
                      (click)="photoSellInput.click()"
                    />
                  </div>

                  <div
                    style="
                      display: flex;
                      align-items: center;
                      justify-content: center;
                      margin: 2rem 0;
                    "
                  >
                    <ngx-recaptcha2
                      #captchaElem
                      [siteKey]="siteKey"
                      formControlName="recaptchaFormControl"
                    >
                    </ngx-recaptcha2>
                  </div>

                  <div class="button-formulary">
                    <button
                      mat-flat-button
                      color="accent"
                      [disabled]="sendSellFormulary.invalid"
                      (click)="openDialogWithRef(sellRegisterSend)"
                    >
                      {{ "Enviar" | translate }}
                    </button>
                  </div>

                  <ng-template #sellRegisterSend>
                    <div class="popup-width-image">
                      <img src="../../../assets/images/popup-firu-2.png" />
                    </div>
                    <p matDialogContent class="alert-text">
                      {{
                        "Gracias por su colaboración, recibira un email de confirmación."
                          | translate
                      }}
                      <br />{{
                        "Revise su bandeja de entrada de lo contrario su bandeja 'spam'."
                          | translate
                      }}
                    </p>

                    <mat-dialog-actions align="end">
                      <button mat-flat-button color="warn" matDialogClose>
                        {{ "Cerrar" | translate }}
                      </button>
                    </mat-dialog-actions>
                  </ng-template>
                </form>
              </mat-card-content>
            </mat-card>
          </div>
        </div>
      </mat-tab>
    </mat-tab-group>
  </div>
</div>
